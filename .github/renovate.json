{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "extends": [
        "mergeConfidence:all-badges",
        "config:recommended"
    ],
    "ignorePresets": [
        "workarounds:javaLTSVersions"
    ],
    "enabledManagers": [
        "maven",
        "maven-wrapper",
        "docker-compose",
        "kubernetes",
        "helm-values",
        "helmv3",
        "custom.regex"
    ],
    "maven-wrapper": {
        "managerFilePatterns": [
            "/(^|/)mvnw$/",
            "/(^|/)mvnw.cmd$/",
            "/(^|/).mvn/wrapper/maven-wrapper.properties$/"
        ],
        "versioning": "maven"
    },
    "docker-compose": {
        "enabled": true
    },
    "kubernetes": {
        "managerFilePatterns": [
            "/k8s/.+\\.ya?ml$/",
            "/helm-charts/templates/.+\\.ya?ml$/"
        ]
    },
    "helm-values": {
        "managerFilePatterns": [
            "/helm-charts/.+/values\\.ya?ml$/"
        ]
    },
    "helmv3": {
        "managerFilePatterns": [
            "/(^|/)Chart\\.ya?ml$/"
        ]
    },
    "packageRules": [
        {
            "matchCategories": [
                "docker"
            ],
            "registryUrls": [
                "https://index.docker.io"
            ]
        },
        {
            "matchDatasources": [
                "docker"
            ],
            "matchPackageNames": [
                "/^domboeckli//"
            ],
            "versioning": "maven",
            "allowedVersions": "/^[0-9]+\\.[0-9]+\\.[0-9]+(-SNAPSHOT)?$/",
            "ignoreUnstable": false,
            "automerge": false,
            "automergeType": "pr",
            "ignoreTests": true
        },
        {
            "matchDatasources": [
                "docker"
            ],
            "matchPackageNames": [
                "!/^domboeckli//"
            ],
            "automerge": false,
            "automergeType": "pr",
            "ignoreTests": true
        }
    ],
    "ignoreDeps": [],
    "customManagers": [
        {
            "customType": "regex",
            "managerFilePatterns": [
                "(^|/)pom\\.xml$"
            ],
            "matchStrings": [
                "<java\\.version>(?<currentValue>\\d+)</java\\.version>"
            ],
            "datasourceTemplate": "java-version",
            "depNameTemplate": "java",
            "versioningTemplate": "loose",
            "autoReplaceStringTemplate": "<java.version>{{{newMajor}}}</java.version>"
        },
        {
            "customType": "regex",
            "managerFilePatterns": [
                "^\\.github/workflows/(release|maven-build)\\.ya?ml$"
            ],
            "matchStrings": [
                "(?<prefix>\\s*JAVA_VERSION:\\s*)(?<currentValue>\\d+)"
            ],
            "datasourceTemplate": "java-version",
            "depNameTemplate": "java",
            "versioningTemplate": "loose",
            "autoReplaceStringTemplate": "{{{prefix}}}{{{newMajor}}}"
        }
    ],
    "schedule": [
        "before 5am"
    ],
    "platformAutomerge": false,
    "dependencyDashboard": true,
    "prHourlyLimit": 0,
    "prConcurrentLimit": 0,
    "baseBranchPatterns": [
        "master"
    ],
    "branchPrefix": "feature/renovate-",
    "separateMinorPatch": true,
    "separateMajorMinor": true,
    "automerge": false,
    "rebaseWhen": "conflicted"
}
